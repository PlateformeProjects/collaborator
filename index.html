<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Collaborateurs GitHub Faciles (Live)</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="card-container">
      <header class="header">
        <h1 class="title">Ajout Rapide de Collaborateurs</h1>
        <p class="subtitle">
          Automatisez l'invitation d'utilisateurs Ã  votre dÃ©pÃ´t GitHub.
        </p>
      </header>

      <button id="themeToggle" class="theme-toggle-btn">
        Passer au ThÃ¨me Sombre ğŸŒ™
      </button>

      <div class="help-section">
        <button
          class="help-toggle"
          aria-expanded="false"
          aria-controls="help-content"
        >
          Comment utiliser l'application ? (Aide)
          <span class="icon">â–¼</span>
        </button>
        <div class="help-content" id="help-content" hidden>
          <h3>Ã‰tape 1 : Obtenir votre ClÃ© (PAT) ğŸ”‘</h3>
          <p>
            Le <strong>Token d'AccÃ¨s Personnel (PAT)</strong> est votre clÃ©
            secrÃ¨te pour communiquer avec l'API GitHub. Il doit Ãªtre valide et
            avoir les permissions d'<strong>Administration (Write)</strong> sur
            le dÃ©pÃ´t cible.
          </p>

          <h3>Ã‰tape 2 : Entrer les CoordonnÃ©es du DÃ©pÃ´t ğŸ“‚</h3>
          <ul>
            <li>
              <strong>PropriÃ©taire :</strong> Le nom de l'utilisateur ou de
              l'organisation (ex: <code>PlateformeProjects</code>).
            </li>
            <li>
              <strong>DÃ©pÃ´t :</strong> Le nom exact du dÃ©pÃ´t (ex:
              <code>moulinage</code>).
            </li>
          </ul>

          <h3>Ã‰tape 3 : Lister les Collaborateurs ğŸ‘¥</h3>
          <p>
            Entrez les pseudos GitHub des utilisateurs que vous voulez inviter.
            Vous pouvez les sÃ©parer par des virgules, des espaces ou des sauts
            de ligne.
          </p>

          <h3>Ã‰tape 4 : Suivre le Statut en Direct (Live) ğŸŸ¢</h3>
          <p>
            AprÃ¨s avoir cliquÃ© sur "Lancer", l'application vÃ©rifiera toutes les
            5 secondes si les utilisateurs invitÃ©s ont acceptÃ© la collaboration.
            Le statut passera de <strong>'En attente'</strong> Ã 
            <strong>'AcceptÃ© !'</strong> automatiquement.
          </p>
        </div>
      </div>
      <div class="main-content-grid">
        <div class="form-column">
          <form id="collaboratorForm" class="form">
            <div class="input-field">
              <label for="token">Token d'AccÃ¨s Personnel (PAT)</label>
              <input
                type="password"
                id="token"
                placeholder="Entrez votre token d'accÃ¨s personnel GitHub (ex: ghp_...)"
                required
              />
              <small class="help-text"
                >NÃ©cessite la permission d'administration pour ce dÃ©pÃ´t.</small
              >
            </div>

            <div class="input-field group">
              <div class="repo-input">
                <label for="owner"
                  >PropriÃ©taire (Utilisateur ou Organisation)</label
                >
                <input
                  type="text"
                  id="owner"
                  placeholder="Ex: mon_organisation"
                  required
                />
              </div>
              <div class="repo-input">
                <label for="repo">Nom du DÃ©pÃ´t</label>
                <input
                  type="text"
                  id="repo"
                  placeholder="Ex: mon_projet_web"
                  required
                />
              </div>
            </div>

            <div class="input-field">
              <label for="collaborators">Pseudos des Collaborateurs</label>
              <textarea
                id="collaborators"
                rows="5"
                placeholder="SÃ©parez les pseudos par des virgules ou des sauts de ligne (ex: user1, user2, user3)"
                required
              ></textarea>
              <small class="help-text"
                >La permission par dÃ©faut sera 'push' (Ã©criture).</small
              >
            </div>

            <button type="submit" id="submitButton" class="btn-primary">
              ğŸš€ Lancer les Invitations
            </button>
          </form>

          <div
            id="statusMessage"
            class="status-box"
            role="alert"
            style="display: none"
          ></div>
        </div>

        <div
          id="dynamicResults"
          class="dynamic-results-column"
          style="display: none"
        >
          <h2>Statut des Invitations (Live)</h2>
          <table id="resultsTable" class="status-table">
            <thead>
              <tr>
                <th>Pseudo</th>
                <th>Statut</th>
                <th>DÃ©tails</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <small
            id="lastUpdated"
            class="help-text"
            style="margin-top: 15px"
          ></small>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
